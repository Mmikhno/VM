public class JvmComprehension {

    public static void main(String[] args) {
        int i = 1;                      // 1
        Object o = new Object();        // 2
        Integer ii = 2;                 // 3
        printAll(o, i, ii);             // 4
        System.out.println("finished"); // 7
    }

    private static void printAll(Object o, int i, Integer ii) {
        Integer uselessVar = 700;                   // 5
        System.out.println(o.toString() + i + ii);  // 6
    }

}

public class JvmComprehension - загрузка класса в область Metaspace, вместе с системными классами

1. int i = 1: int - это примитивный тип данных => он хранится в стеке во фрейме метода main
2. Object o = new Object(): создание нового объекта типа Object в Куче, создание ссылки o в стеке, связывание ссылки o с объектом в куче
3. Integer ii = 2: Integer - создание нового объекта типа Integer в Куче (аналог new Integer(2)), создание ссылочной переменной ii в стеке, связывание ссылки ii с объектом в куче
4. printAll(o, i, ii): создается новый фрейм стеке для метода printAll. в стеке во фрейме метода создаются:
   - ссылочная переменная o, которая ссылается на существующий в куче объект типа Object;
   - примитивная переменная i, которая будет проинициализирована значением 1 (значение исходной переменной i на момент вызова метода);
   - ссылочная переменная ii, которая ссылается на существующий в куче объект типа Integer со значением на момент вызова = 2;
5. Integer uselessVar = 700: создается новый объект типа Integer в Куче (new Integer(700)), создается ссылочная переменная uselessVar в стеке во фрейме метода printAll, связывание ссылки uselessVar с объектом в куче
6. System.out.println(o.toString() + i + ii) - создается новый фрейм в стеке для метода println. В стеке во фрейме метода создаются:
   - ссылочная переменная o, которая ссылается на существующий в куче объект Object
     - для метода toString() создается фрейм в стеке. После того как метод отработал, результат и управление возвращаются методу println;
   - примитивная переменная i, проинициализированная значением аргумента, переданного в параметр i метода printall
   - ссылочная переменная ii типа Integer, которая ссылается на существующий в куче объект со значением на момент вызова метода.
7. System.out.println("finished"): создается фрейм в стеке.

После завершения программы все недостижимые ссылки удаляются сборщиком мусора (это объекты Integer, Object)
